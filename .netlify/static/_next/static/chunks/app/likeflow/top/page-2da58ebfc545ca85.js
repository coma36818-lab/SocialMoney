(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{462:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(157).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},2899:(e,t,a)=>{Promise.resolve().then(a.bind(a,2986))},2986:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var s=a(5155);a(2115);var i=a(7017),l=a(2960),r=a(6715),n=a(4913),c=a(157);let d=(0,c.A)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),o=(0,c.A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var x=a(1721),m=a(8098),h=a(5268),p=a(172),y=a(462);let u=(0,c.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),f=(0,c.A)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var j=a(1978),b=a(1966),v=a(5317);let{firestore:g}=(0,b.AU)(),N=new i.E,w=e=>{switch(e){case 0:return(0,s.jsx)(n.A,{className:"w-6 h-6 text-[#FFD700]"});case 1:return(0,s.jsx)(d,{className:"w-6 h-6 text-gray-300"});case 2:return(0,s.jsx)(o,{className:"w-6 h-6 text-amber-600"});default:return(0,s.jsxs)("span",{className:"text-gray-500 font-bold text-lg",children:["#",e+1]})}},F=e=>{let{post:t,place:a,delay:i}=e,l={1:"from-[#FFD700] to-[#B8860B]",2:"from-gray-300 to-gray-400",3:"from-amber-600 to-amber-700"};return(0,s.jsxs)(j.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:i,duration:.5,type:"spring"},className:"flex flex-col items-center ".concat(1===a?"order-2":2===a?"order-1":"order-3"),children:[(0,s.jsxs)(j.P.div,{className:"relative mb-2",whileHover:{scale:1.1},children:[1===a&&(0,s.jsx)(j.P.div,{className:"absolute -top-6 left-1/2 -translate-x-1/2",animate:{y:[0,-5,0],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},children:(0,s.jsx)(n.A,{className:"w-8 h-8 text-[#FFD700] drop-shadow-lg"})}),(0,s.jsx)(j.P.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r ".concat(l[a]," blur-md opacity-50"),animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}}),(0,s.jsx)("div",{className:"".concat({1:"w-20 h-20",2:"w-16 h-16",3:"w-16 h-16"}[a]," rounded-full bg-gradient-to-br ").concat(l[a]," flex items-center justify-center relative z-10 shadow-xl ").concat({1:"shadow-[#FFD700]/50",2:"shadow-gray-300/30",3:"shadow-amber-600/30"}[a]),children:(0,s.jsx)(x.A,{className:1===a?"w-10 h-10 text-black":"w-8 h-8 text-white"})}),(0,s.jsx)(j.P.div,{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 ".concat({1:"w-8 h-8 text-lg",2:"w-7 h-7 text-base",3:"w-7 h-7 text-base"}[a]," rounded-full bg-gradient-to-r ").concat(l[a]," flex items-center justify-center font-bold text-black z-20 shadow-lg"),initial:{scale:0},animate:{scale:1},transition:{delay:i+.2,type:"spring"},children:a})]}),(0,s.jsxs)(j.P.div,{className:"".concat({1:"h-32",2:"h-24",3:"h-20"}[a]," w-24 bg-gradient-to-t ").concat(l[a]," rounded-t-2xl flex flex-col items-center justify-start pt-4 mt-4 relative overflow-hidden"),initial:{height:0},animate:{height:1===a?128:2===a?96:80},transition:{delay:i+.3,duration:.5,type:"spring"},children:[(0,s.jsx)(j.P.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,delay:i}}),(0,s.jsx)("p",{className:"text-black text-xs font-bold truncate max-w-[80px] relative z-10",children:t.authorName||"Anonimo"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1 relative z-10",children:[(0,s.jsx)(m.A,{className:"w-3 h-3 text-black fill-black"}),(0,s.jsx)("span",{className:"text-black text-sm font-bold",children:t.likesWeek||0})]})]})]})};function k(){let{data:e=[],isLoading:t}=(0,l.I)({queryKey:["ranking"],queryFn:async()=>{let e=(0,v.rJ)(g,"Posts"),t=(0,v.P)(e,(0,v.My)("likesWeek","desc"),(0,v.AB)(50));return(await (0,v.GG)(t)).docs.map(e=>({id:e.id,...e.data()}))}}),a=e.filter(e=>(e.likesWeek||0)>0);return(0,s.jsxs)("div",{className:"min-h-[100dvh] bg-black pb-8 pt-16 overflow-y-auto",children:[(0,s.jsx)("div",{className:"fixed inset-0 pointer-events-none",children:(0,s.jsx)(j.P.div,{className:"absolute w-[600px] h-[600px] rounded-full bg-[#FFD700]/5 blur-[150px]",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:5,repeat:1/0},style:{top:"-30%",left:"50%",transform:"translateX(-50%)"}})}),(0,s.jsxs)(j.P.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"relative sticky top-0 bg-black/80 backdrop-blur-xl border-b border-[#FFD700]/10 px-4 py-4 z-10",children:[(0,s.jsxs)("h1",{className:"text-white text-2xl font-bold text-center flex items-center justify-center gap-2",children:[(0,s.jsx)(j.P.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:(0,s.jsx)(h.A,{className:"w-6 h-6 text-[#FFD700]"})}),"Classifica"]}),(0,s.jsx)(j.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-gray-500 text-sm text-center mt-1",children:"Top creators della settimana"})]}),t?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-32",children:[(0,s.jsx)(j.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,s.jsx)(p.A,{className:"w-12 h-12 text-[#FFD700]"})}),(0,s.jsx)(j.P.p,{className:"text-gray-500 mt-4",animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:"Caricamento classifica..."})]}):0===a.length?(0,s.jsxs)(j.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-32 px-6",children:[(0,s.jsx)(j.P.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0},className:"w-24 h-24 rounded-full bg-[#111] border border-[#222] flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(h.A,{className:"w-12 h-12 text-gray-600"})}),(0,s.jsx)("p",{className:"text-gray-400 text-lg font-medium",children:"Nessuno in classifica"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:"Sii il primo a ricevere like!"})]}):(0,s.jsxs)(s.Fragment,{children:[a.length>=3&&(0,s.jsxs)("div",{className:"relative px-4 pt-16 pb-8",children:[[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(j.P.div,{className:"absolute",style:{left:"${20 + i * 15}%",top:"${10 + (i % 3) * 20}%"},animate:{y:[0,-20,0],opacity:[.3,.7,.3],scale:[1,1.2,1]},transition:{duration:3,repeat:1/0,delay:.5*t},children:(0,s.jsx)(y.A,{className:"w-3 h-3 text-[#FFD700]/50 fill-[#FFD700]/50"})},t)),(0,s.jsxs)("div",{className:"flex items-end justify-center gap-2",children:[(0,s.jsx)(F,{post:a[1],place:2,delay:.2}),(0,s.jsx)(F,{post:a[0],place:1,delay:.1}),(0,s.jsx)(F,{post:a[2],place:3,delay:.3})]})]}),(0,s.jsxs)("div",{className:"relative px-4 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(u,{className:"w-5 h-5 text-[#FFD700]"}),(0,s.jsx)("h2",{className:"text-white text-lg font-semibold",children:"Tutti i partecipanti"})]}),(0,s.jsx)("div",{className:"space-y-3",children:a.map((e,t)=>(0,s.jsxs)(j.P.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.5+.05*t},whileHover:{scale:1.02,x:5},className:"flex items-center gap-4 p-4 rounded-2xl border transition-all ".concat(t<3?"bg-gradient-to-r from-[#FFD700]/10 to-transparent border-[#FFD700]/20":"bg-[#111] border-[#222]"),children:[(0,s.jsx)("div",{className:"w-10 flex items-center justify-center",children:t<3?(0,s.jsx)(j.P.div,{animate:0===t?{scale:[1,1.2,1]}:{},transition:{duration:1.5,repeat:1/0},children:w(t)}):w(t)}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat(t<3?"bg-gradient-to-br from-[#FFD700]/30 to-[#B8860B]/30 border-2 border-[#FFD700]":"bg-[#222] border border-[#333]"),children:(0,s.jsx)(x.A,{className:"w-6 h-6 ".concat(t<3?"text-[#FFD700]":"text-gray-500")})}),0===t&&(0,s.jsx)(j.P.div,{className:"absolute -top-1 -right-1",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:(0,s.jsx)(f,{className:"w-4 h-4 text-orange-500 fill-orange-500"})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("p",{className:"font-medium truncate ".concat(t<3?"text-white":"text-gray-300"),children:["@",e.authorName||"anonimo"]}),e.description&&(0,s.jsx)("p",{className:"text-gray-500 text-sm truncate",children:e.description})]}),(0,s.jsxs)(j.P.div,{className:"flex items-center gap-2 px-3 py-1.5 rounded-full ".concat(t<3?"bg-[#FFD700]/20":"bg-[#222]"),whileHover:{scale:1.1},children:[(0,s.jsx)(m.A,{className:"w-4 h-4 ".concat(t<3?"text-[#FFD700] fill-[#FFD700]":"text-gray-500 fill-gray-500")}),(0,s.jsx)("span",{className:"font-bold ".concat(t<3?"text-[#FFD700]":"text-gray-400"),children:e.likesWeek||0})]})]},e.id))})]})]})]})}function A(){return(0,s.jsx)(r.Ht,{client:N,children:(0,s.jsx)(k,{})})}},4913:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(157).A)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,453,978,602,860,100,4,966,441,684,358],()=>t(2899)),_N_E=e.O()}]);