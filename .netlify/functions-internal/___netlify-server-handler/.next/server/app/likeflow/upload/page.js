(()=>{var e={};e.id=696,e.ids=[696],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11516:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},14974:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/likeflow/upload/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/likeflow/upload/page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},24555:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},38523:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(65239),s=a(48088),i=a(88170),l=a.n(i),o=a(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(t,n);let d={children:["",{children:["likeflow",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,14974)),"/home/user/studio/src/app/likeflow/upload/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7935)),"/home/user/studio/src/app/likeflow/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/likeflow/upload/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/likeflow/upload/page",pathname:"/likeflow/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55511:e=>{"use strict";e.exports=require("crypto")},58595:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},79884:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var r=a(60687),s=a(43210),i=a(8693),l=a(40880),o=a(70146),n=a(75535),d=a(58450),c=a(82614);let u=(0,c.A)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),m=(0,c.A)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),p=(0,c.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var x=a(24555),h=a(83729);let f=(0,c.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var b=a(78726),v=a(58595),y=a(11516),g=a(97905),j=a(88920),w=a(16189),N=a(89667),k=a(4780);let P=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("textarea",{className:(0,k.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));P.displayName="Textarea";var F=a(9623);let{firestore:M,storage:A}=(0,l.AU)(),C=()=>{let e=localStorage.getItem("likeflow_userId");return e||(e=`user_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,localStorage.setItem("likeflow_userId",e)),e},D=()=>(0,r.jsxs)(g.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-xl z-50 flex flex-col items-center justify-center",children:[(0,r.jsxs)(g.P.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.5,ease:"easeOut"},className:"relative",children:[(0,r.jsx)(g.P.div,{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[#FFD700] to-[#B8860B] flex items-center justify-center",animate:{boxShadow:["0 0 0 0 rgba(255,215,0,0.4)","0 0 0 40px rgba(255,215,0,0)"]},transition:{duration:1,repeat:3},children:(0,r.jsx)(d.A,{className:"w-12 h-12 text-black"})}),[...Array(12)].map((e,t)=>(0,r.jsx)(g.P.div,{className:"absolute w-3 h-3 rounded-full",style:{background:["#FFD700","#FF6B6B","#4ECDC4","#A855F7"][t%4],top:"50%",left:"50%"},initial:{x:0,y:0,scale:0},animate:{x:100*Math.cos(30*t*Math.PI/180),y:100*Math.sin(30*t*Math.PI/180),scale:[0,1,0],opacity:[1,1,0]},transition:{duration:.8,delay:.2}},t))]}),(0,r.jsx)(g.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-white text-xl font-bold mt-6",children:"Pubblicato! \uD83C\uDF89"}),(0,r.jsx)(g.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-400 mt-2",children:"Il tuo contenuto \xe8 online"})]});async function q(e,t,a){let r=C(),s=(0,o.KR)(A,`uploads/${Date.now()}-${e.name}`);await (0,o.D)(s,e);let i=await (0,o.qk)(s),l={mediaUrl:i,mediaType:e.type.startsWith("video")?"video":e.type.startsWith("image")?"photo":"audio",authorName:t||"Anonimo",authorId:r,description:a||"",likes:0,likesWeek:0,boostScore:0,creditValue:0,timestamp:(0,n.O5)(),boostPurchased:0};return await (0,n.gS)((0,n.rJ)(M,"Posts"),l),i}function R(){let e=(0,w.useRouter)(),t=(0,i.jE)(),a=(0,s.useRef)(null),l=(0,s.useRef)(null),{wallet:o,useUpload:d}=(0,F.v)(),[c,k]=(0,s.useState)({authorName:"",authorPhoto:null,authorPhotoPreview:null,description:"",mediaFile:null,mediaPreview:null,mediaType:null}),[A,R]=(0,s.useState)(!1),[z,I]=(0,s.useState)(0),[E,_]=(0,s.useState)(null),[S,T]=(0,s.useState)(!1),B=async()=>{if(!c.mediaFile)return void _("Seleziona un file da caricare");R(!0),_(null),I(0);let a=setInterval(()=>{I(e=>Math.min(e+10,90))},200);try{let r=C(),s=(0,n.H9)(M,"uploadCooldowns",r);await (0,n.BN)(s,{userId:r,timestamp:(0,n.O5)()}),await q(c.mediaFile,c.authorName,c.description),I(100),clearInterval(a),t.invalidateQueries({queryKey:["posts"]}),T(!0),setTimeout(()=>{e.push("/likeflow/feed")},2500)}catch(e){clearInterval(a),"permission-denied"===e.code?_("Limite di upload giornaliero raggiunto. Riprova tra 24 ore."):(_("Errore durante il caricamento. Riprova."),console.error(e)),I(0)}finally{R(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-black pb-36 pt-8 md:pt-12 overflow-y-auto",children:[(0,r.jsx)(j.N,{children:S&&(0,r.jsx)(D,{})}),(0,r.jsxs)(g.P.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"sticky top-0 bg-gradient-to-b from-black to-transparent backdrop-blur-sm px-4 py-4 z-10",children:[(0,r.jsxs)("h1",{className:"text-white text-xl font-bold text-center flex items-center justify-center gap-2",children:[(0,r.jsx)(x.A,{className:"w-5 h-5 text-[#FFD700]"}),"Crea"]}),(0,r.jsx)("div",{className:"flex items-center justify-center gap-2 mt-2",children:(0,r.jsxs)(g.P.div,{className:"flex items-center gap-2 bg-[#FFD700]/10 rounded-full px-3 py-1",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:[(0,r.jsx)(h.A,{className:"w-4 h-4 text-[#FFD700]"}),(0,r.jsx)("span",{className:"text-[#FFD700] text-sm font-medium",children:"1 Upload Gratuito al Giorno"})]})})]}),(0,r.jsxs)("div",{className:"px-4 py-8 md:py-12 max-w-lg mx-auto",children:[(0,r.jsx)(j.N,{children:E&&(0,r.jsxs)(g.P.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95},className:"bg-red-500/10 border border-red-500/50 rounded-2xl p-4 mb-6 flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(f,{className:"w-5 h-5 text-red-500"})}),(0,r.jsx)("span",{className:"text-red-400 text-sm",children:E})]})}),(0,r.jsxs)(g.P.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[c.mediaPreview?(0,r.jsxs)(g.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative rounded-3xl overflow-hidden bg-[#111] aspect-[9/16] max-h-[400px]",children:["video"===c.mediaType&&(0,r.jsx)("video",{src:c.mediaPreview,className:"w-full h-full object-cover",controls:!0}),"photo"===c.mediaType&&(0,r.jsx)("img",{src:c.mediaPreview,alt:"Preview",className:"w-full h-full object-cover"}),"audio"===c.mediaType&&(0,r.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-[#1a1a1a] to-[#0a0a0a]",children:[(0,r.jsxs)(g.P.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"relative w-32 h-32",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-[#FFD700] via-[#B8860B] to-[#8B6914] shadow-2xl shadow-[#FFD700]/30"}),(0,r.jsx)("div",{className:"absolute inset-6 rounded-full bg-black"}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(m,{className:"w-16 h-16 text-[#FFD700]"})}),(0,r.jsx)("div",{className:"absolute inset-10 rounded-full border border-[#333]"}),(0,r.jsx)("div",{className:"absolute inset-16 rounded-full border border-[#333]"}),(0,r.jsx)("div",{className:"absolute inset-20 rounded-full border border-[#333]"})]}),(0,r.jsx)("audio",{src:c.mediaPreview,controls:!0,className:"w-3/4 mt-6"})]}),(0,r.jsx)(g.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{k(e=>({...e,mediaFile:null,mediaPreview:null,mediaType:null}))},className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-black/70 backdrop-blur-sm flex items-center justify-center border border-white/20",children:(0,r.jsx)(b.A,{className:"w-5 h-5 text-white"})}),(0,r.jsxs)("div",{className:"absolute bottom-4 left-4 flex items-center gap-2 bg-black/70 backdrop-blur-sm rounded-full px-4 py-2",children:[(()=>{switch(c.mediaType){case"video":return(0,r.jsx)(u,{className:"w-6 h-6"});case"audio":return(0,r.jsx)(m,{className:"w-6 h-6"});default:return(0,r.jsx)(p,{className:"w-6 h-6"})}})(),(0,r.jsx)("span",{className:"text-white text-sm font-medium capitalize",children:c.mediaType})]})]}):(0,r.jsxs)(g.P.button,{whileHover:{scale:1.02,borderColor:"#FFD700"},whileTap:{scale:.98},onClick:()=>a.current?.click(),className:"w-full aspect-[9/16] max-h-[400px] rounded-3xl border-2 border-dashed border-[#333] bg-gradient-to-br from-[#111] to-[#0a0a0a] flex flex-col items-center justify-center gap-6 transition-all overflow-hidden relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,r.jsx)(g.P.div,{className:"absolute w-96 h-96 rounded-full bg-[#FFD700]/5 blur-3xl",animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:10,repeat:1/0,ease:"linear"}})}),(0,r.jsx)(g.P.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"relative z-10",children:(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[#FFD700] to-[#B8860B] flex items-center justify-center shadow-lg shadow-[#FFD700]/20",children:(0,r.jsx)(h.A,{className:"w-10 h-10 text-black"})})}),(0,r.jsxs)("div",{className:"text-center relative z-10",children:[(0,r.jsx)("p",{className:"text-white font-bold text-lg",children:"Tocca per caricare"}),(0,r.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Video, foto o audio"}),(0,r.jsx)("p",{className:"text-gray-600 text-xs mt-1",children:"Max 20MB"})]}),(0,r.jsxs)("div",{className:"flex gap-4 mt-2 relative z-10",children:[(0,r.jsxs)(g.P.div,{whileHover:{scale:1.1},className:"flex flex-col items-center gap-1",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-[#222] flex items-center justify-center",children:(0,r.jsx)(p,{className:"w-6 h-6 text-[#FFD700]"})}),(0,r.jsx)("span",{className:"text-gray-500 text-xs",children:"Foto"})]}),(0,r.jsxs)(g.P.div,{whileHover:{scale:1.1},className:"flex flex-col items-center gap-1",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-[#222] flex items-center justify-center",children:(0,r.jsx)(u,{className:"w-6 h-6 text-[#FFD700]"})}),(0,r.jsx)("span",{className:"text-gray-500 text-xs",children:"Video"})]}),(0,r.jsxs)(g.P.div,{whileHover:{scale:1.1},className:"flex flex-col items-center gap-1",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-[#222] flex items-center justify-center",children:(0,r.jsx)(m,{className:"w-6 h-6 text-[#FFD700]"})}),(0,r.jsx)("span",{className:"text-gray-500 text-xs",children:"Audio"})]})]})]}),(0,r.jsx)("input",{ref:a,type:"file",accept:"image/*,video/*,audio/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let a=t.type.split("/")[0],r="photo";"video"===a?r="video":"audio"===a&&(r="audio");let s=URL.createObjectURL(t);k(e=>({...e,mediaFile:t,mediaPreview:s,mediaType:r}))},className:"hidden"})]}),(0,r.jsxs)(g.P.div,{className:"mb-6 p-4 rounded-2xl bg-[#111] border border-[#222]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,r.jsx)("p",{className:"text-gray-400 text-xs uppercase tracking-wider mb-4",children:"Informazioni autore (opzionale)"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[c.authorPhotoPreview?(0,r.jsxs)(g.P.div,{initial:{scale:0},animate:{scale:1},className:"relative",children:[(0,r.jsx)("img",{src:c.authorPhotoPreview,alt:"Author",className:"w-16 h-16 rounded-full object-cover border-2 border-[#FFD700]"}),(0,r.jsx)("button",{onClick:()=>{k(e=>({...e,authorPhoto:null,authorPhotoPreview:null}))},className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center",children:(0,r.jsx)(b.A,{className:"w-4 h-4 text-white"})})]}):(0,r.jsx)(g.P.button,{whileHover:{scale:1.05,borderColor:"#FFD700"},whileTap:{scale:.95},onClick:()=>l.current?.click(),className:"w-16 h-16 rounded-full border-2 border-dashed border-[#333] bg-[#0a0a0a] flex items-center justify-center transition-colors",children:(0,r.jsx)(v.A,{className:"w-7 h-7 text-gray-500"})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(N.p,{value:c.authorName,onChange:e=>k(t=>({...t,authorName:e.target.value})),placeholder:"@username",className:"bg-[#0a0a0a] border-[#222] text-white placeholder:text-gray-600 focus:border-[#FFD700] rounded-xl"})})]}),(0,r.jsx)("input",{ref:l,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let a=URL.createObjectURL(t);k(e=>({...e,authorPhoto:t,authorPhotoPreview:a}))},className:"hidden"})]}),(0,r.jsx)(g.P.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,r.jsx)(P,{value:c.description,onChange:e=>k(t=>({...t,description:e.target.value})),placeholder:"Scrivi una descrizione accattivante...",rows:3,className:"bg-[#111] border-[#222] text-white placeholder:text-gray-600 focus:border-[#FFD700] resize-none rounded-2xl"})}),(0,r.jsx)(j.N,{children:A&&(0,r.jsxs)(g.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Caricamento..."}),(0,r.jsxs)("span",{className:"text-[#FFD700] text-sm font-bold",children:[z,"%"]})]}),(0,r.jsx)("div",{className:"h-2 bg-[#222] rounded-full overflow-hidden",children:(0,r.jsx)(g.P.div,{className:"h-full bg-gradient-to-r from-[#FFD700] to-[#B8860B]",initial:{width:0},animate:{width:`${z}%`}})})]})}),(0,r.jsx)(g.P.button,{whileHover:{scale:c.mediaFile&&!A?1.02:1},whileTap:{scale:c.mediaFile&&!A?.98:1},onClick:B,disabled:A||!c.mediaFile,className:`w-full py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-3 transition-all ${c.mediaFile&&!A?"bg-gradient-to-r from-[#FFD700] to-[#B8860B] text-black shadow-lg shadow-[#FFD700]/20":"bg-[#222] text-gray-500 cursor-not-allowed"}`,children:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.A,{className:"w-6 h-6 animate-spin"}),"Pubblicazione..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{className:"w-6 h-6"}),"Pubblica"]})})]})]})}},81630:e=>{"use strict";e.exports=require("http")},88920:(e,t,a)=>{"use strict";a.d(t,{N:()=>b});var r=a(60687),s=a(43210),i=a(12157),l=a(72789),o=a(21279),n=a(32582);class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:t}){let a=(0,s.useId)(),i=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,s.useContext)(n.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:r,top:s,left:n}=l.current;if(t||!i.current||!e||!r)return;i.current.dataset.motionPopId=a;let d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${s}px !important;
            left: ${n}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),(0,r.jsx)(d,{isPresent:t,childRef:i,sizeRef:l,children:s.cloneElement(e,{ref:i})})}let u=({children:e,initial:t,isPresent:a,onExitComplete:i,custom:n,presenceAffectsLayout:d,mode:u})=>{let p=(0,l.M)(m),x=(0,s.useId)(),h=(0,s.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;i&&i()},[p,i]),f=(0,s.useMemo)(()=>({id:x,initial:t,isPresent:a,custom:n,onExitComplete:h,register:e=>(p.set(e,!1),()=>p.delete(e))}),d?[Math.random(),h]:[a,h]);return(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[a]),s.useEffect(()=>{a||p.size||!i||i()},[a]),"popLayout"===u&&(e=(0,r.jsx)(c,{isPresent:a,children:e})),(0,r.jsx)(o.t.Provider,{value:f,children:e})};function m(){return new Map}var p=a(86044);let x=e=>e.key||"";function h(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var f=a(15124);let b=({children:e,custom:t,initial:a=!0,onExitComplete:o,presenceAffectsLayout:n=!0,mode:d="sync",propagate:c=!1})=>{let[m,b]=(0,p.xQ)(c),v=(0,s.useMemo)(()=>h(e),[e]),y=c&&!m?[]:v.map(x),g=(0,s.useRef)(!0),j=(0,s.useRef)(v),w=(0,l.M)(()=>new Map),[N,k]=(0,s.useState)(v),[P,F]=(0,s.useState)(v);(0,f.E)(()=>{g.current=!1,j.current=v;for(let e=0;e<P.length;e++){let t=x(P[e]);y.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[P,y.length,y.join("-")]);let M=[];if(v!==N){let e=[...v];for(let t=0;t<P.length;t++){let a=P[t],r=x(a);y.includes(r)||(e.splice(t,0,a),M.push(a))}"wait"===d&&M.length&&(e=M),F(h(e)),k(v);return}let{forceRender:A}=(0,s.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:P.map(e=>{let s=x(e),i=(!c||!!m)&&(v===P||y.includes(s));return(0,r.jsx)(u,{isPresent:i,initial:(!g.current||!!a)&&void 0,custom:i?void 0:t,presenceAffectsLayout:n,mode:d,onExitComplete:i?void 0:()=>{if(!w.has(s))return;w.set(s,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==A||A(),F(j.current),c&&(null==b||b()),o&&o())},children:e},s)})})}},89667:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var r=a(60687),s=a(43210),i=a(4780);let l=s.forwardRef(({className:e,type:t,...a},s)=>(0,r.jsx)("input",{type:t,className:(0,i.cn)("flex h-auto w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));l.displayName="Input"},89719:(e,t,a)=>{Promise.resolve().then(a.bind(a,79884))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95295:(e,t,a)=>{Promise.resolve().then(a.bind(a,14974))}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[447,446,658,841,759,993,95],()=>a(38523));module.exports=r})();